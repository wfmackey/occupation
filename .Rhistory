strip.text.x = element_text(size = 8, colour = "black"),
axis.text.x=element_text(size=8, angle = 90)
) +
scale_color_manual(labels = lfs.labels,
values =  lfs.colors) +
facet_wrap(. ~ qualfield, ncol=ceiling(length(fields))/2,
labeller = label_wrap_gen(width = 10))
# 25-34:
lfs.2534 %>% filter(gender == "m." | gender == "f.haschild" | gender == "f.nochild") %>%
filter(qualfield %in% fields) %>%
ggplot(aes(x = year, color=lfs, group=interaction(lfs, gender))) +
geom_line(aes(y = pc, linetype = gender), stat="identity") +
geom_point(aes(y = pc), stat="identity") +
theme_minimal() +
labs(title = "Labour foce status of female and male, 25-34yo by education field",
subtitle = "B. = bachelor; D. = diploma/advanced diploma",
x = "",
y = ""
) +
theme(plot.title    = element_text(size = 14, hjust = 0.5),
plot.subtitle = element_text(size = 10, hjust = 0.5, face = "italic"),
legend.position="bottom",
legend.title = element_blank(),
strip.text.x = element_text(size = 8, colour = "black"),
axis.text.x=element_text(size=8, angle = 90)
) +
scale_color_manual(labels = lfs.labels,
values =  lfs.colors) +
facet_wrap(. ~ qualfield, ncol=ceiling(length(fields))/2,
labeller = label_wrap_gen(width = 10))
pair = c("m., f.")
lfs.2534 %>% filter(gender == "m." | gender == "f.haschild" | gender == "f.nochild") %>%
filter(qualfield %in% fields) %>%
ggplot(aes(x = year, color=lfs, group=interaction(lfs, gender))) +
geom_line(aes(y = pc, linetype = gender), stat="identity") +
geom_point(aes(y = pc), stat="identity") +
theme_minimal() +
labs(title = paste0("Labour foce status of ",pair[1],pair[2], "25-34yo by education field"),
subtitle = "B. = bachelor; D. = diploma/advanced diploma",
x = "",
y = ""
) +
theme(plot.title    = element_text(size = 14, hjust = 0.5),
plot.subtitle = element_text(size = 10, hjust = 0.5, face = "italic"),
legend.position="bottom",
legend.title = element_blank(),
strip.text.x = element_text(size = 8, colour = "black"),
axis.text.x=element_text(size=8, angle = 90)
) +
scale_color_manual(labels = lfs.labels,
values =  lfs.colors) +
facet_wrap(. ~ qualfield, ncol=ceiling(length(fields))/2,
labeller = label_wrap_gen(width = 10))
pair = c("m.", "f.")
lfs.2534 %>% filter(gender == "m." | gender == "f.haschild" | gender == "f.nochild") %>%
filter(qualfield %in% fields) %>%
ggplot(aes(x = year, color=lfs, group=interaction(lfs, gender))) +
geom_line(aes(y = pc, linetype = gender), stat="identity") +
geom_point(aes(y = pc), stat="identity") +
theme_minimal() +
labs(title = paste0("Labour foce status of ",pair[1], pair[2], "25-34yo by education field"),
subtitle = "B. = bachelor; D. = diploma/advanced diploma",
x = "",
y = ""
) +
theme(plot.title    = element_text(size = 14, hjust = 0.5),
plot.subtitle = element_text(size = 10, hjust = 0.5, face = "italic"),
legend.position="bottom",
legend.title = element_blank(),
strip.text.x = element_text(size = 8, colour = "black"),
axis.text.x=element_text(size=8, angle = 90)
) +
scale_color_manual(labels = lfs.labels,
values =  lfs.colors) +
facet_wrap(. ~ qualfield, ncol=ceiling(length(fields))/2,
labeller = label_wrap_gen(width = 10))
lfs.2534 %>% filter(gender == "m." | gender == "f.haschild" | gender == "f.nochild") %>%
filter(qualfield %in% fields) %>%
ggplot(aes(x = year, color=lfs, group=interaction(lfs, gender))) +
geom_line(aes(y = pc, linetype = gender), stat="identity") +
geom_point(aes(y = pc), stat="identity") +
theme_minimal() +
labs(title = paste0("Labour foce status of ",pair[1], " and ", pair[2], "25-34yo by education field"),
subtitle = "B. = bachelor; D. = diploma/advanced diploma",
x = "",
y = ""
) +
theme(plot.title    = element_text(size = 14, hjust = 0.5),
plot.subtitle = element_text(size = 10, hjust = 0.5, face = "italic"),
legend.position="bottom",
legend.title = element_blank(),
strip.text.x = element_text(size = 8, colour = "black"),
axis.text.x=element_text(size=8, angle = 90)
) +
scale_color_manual(labels = lfs.labels,
values =  lfs.colors) +
facet_wrap(. ~ qualfield, ncol=ceiling(length(fields))/2,
labeller = label_wrap_gen(width = 10))
lfs.2534 %>% filter(gender == "m." | gender == "f.haschild" | gender == "f.nochild") %>%
filter(qualfield %in% fields) %>%
ggplot(aes(x = year, color=lfs, group=interaction(lfs, gender))) +
geom_line(aes(y = pc, linetype = gender), stat="identity") +
geom_point(aes(y = pc), stat="identity") +
theme_minimal() +
labs(title = paste0("Labour foce status of ",pair[1], " and ", pair[2], "25-34yo by education field"),
subtitle = "B. = bachelor; D. = diploma/advanced diploma",
x = "",
y = ""
) +
theme(plot.title    = element_text(size = 14, hjust = 0.5),
plot.subtitle = element_text(size = 10, hjust = 0.5, face = "italic"),
legend.position="bottom",
legend.title = element_blank(),
legend.text = element_text(size=10),
strip.text.x = element_text(size = 8, colour = "black"),
axis.text.x=element_text(size=8, angle = 90)
) +
scale_color_manual(labels = lfs.labels,
values =  lfs.colors) +
facet_wrap(. ~ qualfield, ncol=ceiling(length(fields))/2,
labeller = label_wrap_gen(width = 10))
age = "2534"
level = "both"
pair = c("m.", "f.")
age = "2534"
uniform = FALSE
level = "both"
pair = c("m.", "f.")
if(age == "2534") {
if(uniform == TRUE) {
usedata <- lfs.2534.uniform
}
else {
usedata <- lfs.2534
}
} else {
usedata <- lfs.anyage
}
View(usedata)
age = "2534"
uniform = FALSE
level = "both"
pair = c("m.", "f.")
if(age == "2534") {
if(uniform == TRUE) {
usedata <- lfs.2534.uniform
print("using lfs.2534.uniform")
}
else {
usedata <- lfs.2534
print("using lfs.2534")
}
} else {
usedata <- lfs.anyage
print("using lfs.anyage")
}
View(usedata)
usedata %>%
filter(gender == pair[1] | gender == pair[2]) %>%
{ ifelse(level == "both", . , filter(!grepl(level, type))) }
test <- usedata %>%
filter(gender == pair[1] | gender == pair[2]) %>%
{ ifelse(level == "both", . , filter(!grepl(level, type))) }
View(test)
test <- usedata %>%
filter(gender == pair[1] | gender == pair[2])
test <- usedata %>%
filter(gender == pair[1] | gender == pair[2]) %>%
ifelse(level == "both", . , filter(!grepl(level, qualfield)))
View(test)
test <- usedata %>%
filter(gender == pair[1] | gender == pair[2]) %>%
ifelse(level == "both", . , filter(!grepl('D.', qualfield)))
level = "dip"
test <- usedata %>%
filter(gender == pair[1] | gender == pair[2]) %>%
ifelse(level == "both", . , filter(!grepl('D.', qualfield)))
test <- usedata %>%
filter(gender == pair[1] | gender == pair[2]) %>%
ifelse(level == "both", . , filter(., !grepl('D.', qualfield)))
View(usedata)
View(test)
if(level == "dip") {
usedata <- filter(usedata, grepl('d.', qualfield ))
}
View(test)
if(level == "dip") {
usedata <- filter(usedata, grepl('d.', qualfield ))
}
usedata <- filter(usedata, grepl('D.', qualfield ))
if(level == "dip") {
usedata <- filter(usedata, grepl('D.', qualfield ))
}
if(level == "dip") {
usedata <- filter(usedata, str_detect(qualfield, 'D.'))
}
age = "2534"
uniform = FALSE
level = "dip"
pair = c("m.", "f.")
if(age == "2534") {
if(uniform == TRUE) {
usedata <- lfs.2534.uniform
print("using lfs.2534.uniform")
}
else {
usedata <- lfs.2534
print("using lfs.2534")
}
} else {
usedata <- lfs.anyage
print("using lfs.anyage")
}
if(level == "dip") {
usedata <- filter(usedata, grepl('D.', qualfield ))
# usedata <- filter(usedata, str_detect(qualfield, 'D.'))
}
View(usedata)
age = "2534"
uniform = FALSE
level = "dip"
pair = c("m.", "f.")
if(age == "2534") {
if(uniform == TRUE) {
usedata <- lfs.2534.uniform
print("using lfs.2534.uniform")
}
else {
usedata <- lfs.2534
print("using lfs.2534")
}
} else {
usedata <- lfs.anyage
print("using lfs.anyage")
}
if(level == "dip") {
usedata <- filter(usedata, !grepl('B.', qualfield ))
# usedata <- filter(usedata, str_detect(qualfield, 'D.'))
}
age = "2534"
uniform = FALSE
level = "bach"
pair = c("m.", "f.")
if(age == "2534") {
if(uniform == TRUE) {
usedata <- lfs.2534.uniform
print("using lfs.2534.uniform")
}
else {
usedata <- lfs.2534
print("using lfs.2534")
}
} else {
usedata <- lfs.anyage
print("using lfs.anyage")
}
if(level == "dip") {
usedata <- filter(usedata, !grepl('B.', qualfield ))
# usedata <- filter(usedata, str_detect(qualfield, 'D.'))
}
if(level == "bach") {
usedata <- filter(usedata, !grepl('D.', qualfield ))
}
usedata %>% filter(gender == pair[1] | gender == pair[2]) %>%
filter(qualfield %in% fields) %>%
ggplot(aes(x = year, color=lfs, group=interaction(lfs, gender))) +
geom_line(aes(y = pc, linetype = gender), stat="identity") +
geom_point(aes(y = pc), stat="identity") +
theme_minimal() +
labs(title = paste0("Labour foce status of ",pair[1], " and ", pair[2], "25-34yo by education field"),
subtitle = "B. = bachelor; D. = diploma/advanced diploma",
x = "",
y = ""
) +
theme(plot.title    = element_text(size = 14, hjust = 0.5),
plot.subtitle = element_text(size = 10, hjust = 0.5, face = "italic"),
legend.position="bottom",
legend.title = element_blank(),
legend.text = element_text(size=10),
strip.text.x = element_text(size = 8, colour = "black"),
axis.text.x=element_text(size=8, angle = 90)
) +
scale_color_manual(labels = lfs.labels,
values =  lfs.colors) +
facet_wrap(. ~ qualfield, ncol=ceiling(length(fields))/2,
labeller = label_wrap_gen(width = 10))
usedata %>% filter(gender == pair[1] | gender == pair[2]) %>%
filter(qualfield %in% fields) %>%
ggplot(aes(x = year, color=lfs, group=interaction(lfs, gender))) +
geom_line(aes(y = pc, linetype = gender), stat="identity") +
geom_point(aes(y = pc), stat="identity") +
theme_minimal() +
labs(title = paste0("Labour foce status of ",pair[1], " and ", pair[2], "25-34yo by education field"),
subtitle = "B. = bachelor; D. = diploma/advanced diploma",
x = "",
y = ""
) +
theme(plot.title    = element_text(size = 14, hjust = 0.5),
plot.subtitle = element_text(size = 10, hjust = 0.5, face = "italic"),
legend.position="bottom",
legend.title = element_blank(),
legend.text = element_text(size=10),
strip.text.x = element_text(size = 8, colour = "black"),
axis.text.x=element_text(size=8, angle = 90)
) +
scale_color_manual(labels = lfs.labels,
values =  lfs.colors) +
facet_wrap(. ~ qualfield, ncol=ceiling(length(fields))/2 + 1,
labeller = label_wrap_gen(width = 10))
age = "2534"
uniform = FALSE
level = "bach"
pair = c("m.", "f.nochild")
if(age == "2534") {
if(uniform == TRUE) {
usedata <- lfs.2534.uniform
print("using lfs.2534.uniform")
}
else {
usedata <- lfs.2534
print("using lfs.2534")
}
} else {
usedata <- lfs.anyage
print("using lfs.anyage")
}
if(level == "dip") {
usedata <- filter(usedata, !grepl('B.', qualfield ))
# usedata <- filter(usedata, str_detect(qualfield, 'D.'))
}
if(level == "bach") {
usedata <- filter(usedata, !grepl('D.', qualfield ))
}
usedata %>% filter(gender == pair[1] | gender == pair[2]) %>%
filter(qualfield %in% fields) %>%
ggplot(aes(x = year, color=lfs, group=interaction(lfs, gender))) +
geom_line(aes(y = pc, linetype = gender), stat="identity") +
geom_point(aes(y = pc), stat="identity") +
theme_minimal() +
labs(title = paste0("Labour foce status of ",pair[1], " and ", pair[2], "25-34yo by education field"),
subtitle = "B. = bachelor; D. = diploma/advanced diploma",
x = "",
y = ""
) +
theme(plot.title    = element_text(size = 14, hjust = 0.5),
plot.subtitle = element_text(size = 10, hjust = 0.5, face = "italic"),
legend.position="bottom",
legend.title = element_blank(),
legend.text = element_text(size=10),
strip.text.x = element_text(size = 8, colour = "black"),
axis.text.x=element_text(size=8, angle = 90)
) +
scale_color_manual(labels = lfs.labels,
values =  lfs.colors) +
facet_wrap(. ~ qualfield, ncol=ceiling(length(fields))/2 + 1,
labeller = label_wrap_gen(width = 10))
lfs.2534 %>%
ggplot(aes(x = year, color=lfs, group=lfs)) +
geom_line(aes(y = male.pc), stat="identity") +
geom_point(aes(y = male.pc), stat="identity") +
geom_line(aes(y = female.pc), stat="identity", linetype="dotted") +
geom_point(aes(y = female.pc), stat="identity") +
theme_minimal() +
labs(title = "Labour foce status of female and male, 25-34 years old by bachelor field",
subtitle = "solid line: MALE 25-34yo \n dotted line: FEMALE 25-34yo",
x = "",
y = ""
) +
theme(plot.title    = element_text(size = 14, hjust = 0.5),
plot.subtitle = element_text(size = 10, hjust = 0.5, face = "bold"),
legend.position="bottom",
legend.title = element_blank(),
strip.text.x = element_text(size = 8, colour = "black"),
axis.text.x=element_text(size=8, angle = 90)
) +
scale_color_manual(labels = lfs.labels,
values =  lfs.colors) +
scale_linetype_manual(labels = c("Female, no child", "Male, all")) +
facet_grid(cols = vars(field),
rows = vars(qual),
labeller = label_wrap_gen(width = 10))
usedata %>% filter(gender == pair[1] | gender == pair[2]) %>%
filter(qualfield %in% fields) %>%
ggplot(aes(x = year, color=lfs, group=interaction(lfs, gender))) +
geom_line(aes(y = pc, linetype = gender), stat="identity") +
geom_point(aes(y = pc), stat="identity") +
theme_minimal() +
labs(title = paste0("Labour foce status of ",pair[1], " and ", pair[2], " 25-34yo by education field"),
subtitle = "B. = bachelor; D. = diploma/advanced diploma",
x = "",
y = ""
) +
theme(plot.title    = element_text(size = 14, hjust = 0.5),
plot.subtitle = element_text(size = 10, hjust = 0.5, face = "italic"),
legend.position="bottom",
legend.title = element_blank(),
legend.text = element_text(size=10),
strip.text.x = element_text(size = 8, colour = "black"),
axis.text.x=element_text(size=8, angle = 90)
) +
scale_color_manual(labels = lfs.labels,
values =  lfs.colors) +
scale_linetype_manual(labels = c("Female, no child", "Male, all")) +
facet_wrap(. ~ qualfield, ncol=ceiling(length(fields))/2 + 1,
labeller = label_wrap_gen(width = 10))
usedata %>% filter(gender == pair[1] | gender == pair[2]) %>%
filter(qualfield %in% fields) %>%
ggplot(aes(x = year, color=lfs, group=interaction(lfs, gender))) +
geom_line(aes(y = pc, linetype = gender), stat="identity") +
geom_point(aes(y = pc), stat="identity") +
theme_minimal() +
labs(title = paste0("Labour foce status of ",pair[1], " and ", pair[2], " 25-34yo by education field"),
subtitle = "B. = bachelor; D. = diploma/advanced diploma",
x = "",
y = ""
) +
theme(plot.title    = element_text(size = 14, hjust = 0.5),
plot.subtitle = element_text(size = 10, hjust = 0.5, face = "italic"),
legend.position="bottom",
legend.title = element_blank(),
legend.text = element_text(size=10),
strip.text.x = element_text(size = 8, colour = "black"),
axis.text.x=element_text(size=8, angle = 90)
) +
scale_color_manual(labels = lfs.labels,
values =  lfs.colors) +
scale_linetype_manual(labels = c("Female, no child", "Male, all"),
values = c("solid", "dotted")) +
facet_wrap(. ~ qualfield, ncol=ceiling(length(fields))/2 + 1,
labeller = label_wrap_gen(width = 10))
for (x in 1:2) {
if (pair[x] == "m.") {
pair[x] <- "Male, all"
}
}
pairlabel <- c("", "")
age = "2534"
uniform = FALSE
level = "bach"
pair = c("m.", "f.nochild")
if(age == "2534") {
if(uniform == TRUE) {
usedata <- lfs.2534.uniform
print("using lfs.2534.uniform")
title <- print0("Labour force status of ", pair[1]," & ", pair[2], "25-34 year olds (uniform age-weighted)")
}
else {
usedata <- lfs.2534
print("using lfs.2534")
title <- print0("Labour force status of ", pair[1]," & ", pair[2], "25-34 year olds (whole group)")
}
} else {
usedata <- lfs.anyage
print("using lfs.anyage")
title <- print0("Labour force status of ", pair[1]," & ", pair[2], "all ages")
}
subtitle <- "B. = bachelor;  D. = diploma"
if(level == "dip") {
usedata <- filter(usedata, !grepl('B.', qualfield ))
# usedata <- filter(usedata, str_detect(qualfield, 'D.'))
}
if(level == "bach") {
usedata <- filter(usedata, !grepl('D.', qualfield ))
}
pairlabel <- c("", "")
for (x in 1:2) {
if (pair[x] == "m.") {
pair[x] <- "Male, all"
}
age = "2534"
uniform = FALSE
level = "bach"
pair = c("m.", "f.nochild")
if(age == "2534") {
if(uniform == TRUE) {
usedata <- lfs.2534.uniform
print("using lfs.2534.uniform")
title <- print0("Labour force status of ", pair[1]," & ", pair[2], "25-34 year olds (uniform age-weighted)")
}
else {
usedata <- lfs.2534
print("using lfs.2534")
title <- print0("Labour force status of ", pair[1]," & ", pair[2], "25-34 year olds (whole group)")
}
} else {
usedata <- lfs.anyage
print("using lfs.anyage")
title <- print0("Labour force status of ", pair[1]," & ", pair[2], "all ages")
}
subtitle <- "B. = bachelor;  D. = diploma"
if(level == "dip") {
usedata <- filter(usedata, !grepl('B.', qualfield ))
# usedata <- filter(usedata, str_detect(qualfield, 'D.'))
}
if(level == "bach") {
usedata <- filter(usedata, !grepl('D.', qualfield ))
}
pairlabel <- c("", "")
for (x in 1:2) {
if (pair[x] == "m.") {
pairlabel[x] <- "Male, all"
}
}
pairlabel <- c("", "")
for (x in 1:2) {
if (pair[x] == "m.") {
pairlabel[x] <- "Male, all"
}
}
pair[1] == "m."
pair[1] == "m."
(pair[1] == "m.")
